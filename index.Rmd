---
title: "Phishing with SQL"
description: |
  Welcome to the website. I hope you enjoy it!
site: distill::distill_website
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

library(tidyverse)
library(dplyr)
library(rmarkdown)
library(plotly)
library(ggplot2)
library(distill)

```


We started with [fake news](https://zhusophia.github.io/Fake_Fake_News/), only to end up at phishing. That's just how the world works! 

Taking raw data from [this dataset](https://www.kaggle.com/datasets/mikhail1681/walmart-sales?resource=download), I'm looking at sales trends for the year  

Taking a look at the raw data: 

```{r load data}
data1 <- read.csv("Walmart_sales.csv")
```

```{r general data}

paged_table(head(data1))

```

Spanning just under two yeras, this dataset keeps tracks of the weekly sales of certain Walmart stores. there are 45 stores and 10 holidays. it also takes general indicators of the wellbeing of economy and enviormnet - temprarture, CPI, unemployement, and fuel prices.

```{python import, eval=FALSE, echo=T}
import pandas as pd
df = pd.read_csv('Walmart_sales.csv', parse_dates=['Date'], dayfirst=False)

```

```{python cleaning, eval=FALSE, echo=T}
#sort by store number and then date
df.sort_values(by=['Store', 'Date'])

#standarize dates to mm-dd-yyyy
df['Date'] = pd.to_datetime(df['Date'], format='%d-%m-%Y').dt.strftime('%m-%d-%Y')

#rounding data 
df.round({'Weekly_Sales':2, 'Temperature':0, 'Fuel_Price':2, 'CPI':3, 'Unemployment':3})

#removing missing values
df.dropna

#create cleaned csv
df.to_csv('./WalmartSalesClean.csv')

```



after cleaning, the information appears as so: 


```{r load data2}
data <- read.csv("WalmartSalesClean.csv")
```

```{r general1 data}
paged_table(head(data))

```


```{sql test, eval=FALSE, echo=T}

```


